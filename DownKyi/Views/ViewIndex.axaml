<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:prism="http://prismlibrary.com/"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:vm="clr-namespace:DownKyi.ViewModels"
             xmlns:asyncImageLoader="clr-namespace:DownKyi.CustomControl.AsyncImageLoader"
             prism:ViewModelLocator.AutoWireViewModel="True"
             x:DataType="vm:ViewIndexViewModel"
             d:DesignWidth="800"
             d:DesignHeight="600"
             x:Class="DownKyi.Views.ViewIndex">


    <UserControl.Styles>
        <Style Selector="Border.mainContent">
            <Setter Property="Background" Value="{DynamicResource BrushMainContentBackground}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="BoxShadow" Value="{DynamicResource ShadowMain}" />
            <Setter Property="BorderBrush" Value="{DynamicResource BrushMainContentBorder}" />
        </Style>

        <Style Selector="Border.searchBox">
            <Setter Property="Background" Value="{DynamicResource BrushSearchBoxBackground}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="BorderBrush" Value="{DynamicResource BrushSearchBoxBorder}" />
            <Setter Property="CornerRadius" Value="16" />
            <Setter Property="Padding" Value="20,15" />
            <Setter Property="BoxShadow" Value="{DynamicResource ShadowSearchBox}" />
        </Style>


        <Style Selector="Border.actionButton">
            <Setter Property="Background" Value="{DynamicResource BrushActionButtonBackground}" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Width" Value="180" />
            <Setter Property="Padding" Value="20,30" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="BorderBrush" Value="{DynamicResource BrushActionButtonBorder}" />
            <Setter Property="BoxShadow" Value="{DynamicResource ShadowActionButton}" />
            <Setter Property="CornerRadius" Value="16" />
        </Style>

        <Style Selector="Border.actionButton:pointerover">
            <Setter Property="Background" Value="{DynamicResource BrushActionButtonPointeroverBackground}" />
            <Setter Property="RenderTransform" Value="translateY(-5px)" />
            <Setter Property="Transitions">
                <Transitions>
                    <TransformOperationsTransition
                        Easing="ElasticEaseInOut"
                        Property="RenderTransform" Duration="0:0:0.3" />
                </Transitions>
            </Setter>
        </Style>

        <Style Selector="Button.searchBtn > Path">
            <Setter Property="Fill" Value="{DynamicResource BrushSubtitleText}" />
        </Style>

        <Style Selector="Button.searchBtn:pointerover > Path">
            <Setter Property="Fill" Value="{DynamicResource ColorTextGradientStart}" />
        </Style>

    </UserControl.Styles>

    <UserControl.Background>
        <DynamicResource ResourceKey="BrushBackgroundGradient" />
    </UserControl.Background>

    <Grid ColumnDefinitions="20,*,20" Margin="20" MaxWidth="1200">
        <Panel Grid.Column="1" Margin="0,40,0,0">
            <StackPanel>
                <StackPanel HorizontalAlignment="Right" Margin="0,0,0,40">
                    <Button CornerRadius="25"
                            Width="50" Height="50"
                            Command="{Binding LoginCommand}">
                        <Image
                            Width="50" Height="50"
                            asyncImageLoader:ImageLoader.Source="{Binding Header}">
                            <Image.Clip>
                                <EllipseGeometry
                                    Center="25,25"
                                    RadiusX="25"
                                    RadiusY="25" />
                            </Image.Clip>
                        </Image>
                    </Button>
                </StackPanel>

                <!-- 主内容区 -->
                <Border CornerRadius="24" Padding="40" MaxWidth="800" Classes="mainContent">
                    <StackPanel>
                        <!-- Logo区域 -->
                        <StackPanel HorizontalAlignment="Center" Margin="0,0,0,40">
                            <TextBlock Text="Downkyi" FontSize="56" FontWeight="Bold"
                                       HorizontalAlignment="Center">
                                <TextBlock.Foreground>
                                    <DynamicResource ResourceKey="BrushTextGradient" />
                                </TextBlock.Foreground>
                            </TextBlock>
                            <TextBlock Text="{DynamicResource EasyVideoDownload}" FontSize="20"

                                       Opacity="0.7" HorizontalAlignment="Center" Margin="0,10,0,0" />
                        </StackPanel>

                        <!-- 搜索框 -->
                        <Grid Margin="0,0,0,40">
                            <Border Classes="searchBox" Name="SearchTextBox">
                                <TextBox
                                    Margin="0,0,25,0"
                                    Foreground="{DynamicResource BrushWhiteText}"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    FontSize="20"
                                    Text="{Binding InputText,Mode=TwoWay}"
                                    Watermark="{DynamicResource IndexHintText}">

                                    <Interaction.Behaviors>
                                        <ExecuteCommandOnKeyDownBehavior Key="Enter" Command="{Binding InputCommand}" />
                                    </Interaction.Behaviors>
                                </TextBox>
                            </Border>
                            <Button HorizontalAlignment="Right" VerticalAlignment="Center"
                                    Classes="searchBtn"
                                    Command="{Binding InputCommand}"
                                    Theme="{StaticResource ImageBtnStyle}"
                                    Margin="0,0,20,0">
                                <Path
                                    VerticalAlignment="Center"
                                    Width="{Binding GeneralSearch.Width,Mode=OneTime}"
                                    Height="{Binding GeneralSearch.Height,Mode=OneTime}"
                                    Data="{Binding GeneralSearch.Data,Mode=OneTime}"
                                    Stretch="UniformToFill" />
                            </Button>
                        </Grid>

                        <!-- 功能按钮 -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <Border Grid.Column="0"
                                    Classes="actionButton">
                                <StackPanel
                                    Spacing="15"
                                    HorizontalAlignment="Center">
                                    <Path
                                        Width="{Binding Settings.Width,Mode=OneTime}"
                                        Height="{Binding Settings.Height,Mode=OneTime}"
                                        Data="{Binding Settings.Data,Mode=OneTime}"
                                        Stretch="UniformToFill"
                                        Fill="{DynamicResource BrushIconGradient}">
                                    </Path>
                                    <TextBlock
                                        Foreground="{DynamicResource BrushTextDark}"
                                        Text="{DynamicResource Settings}"
                                        FontSize="18"
                                        FontWeight="Medium" />
                                </StackPanel>
                                <Interaction.Behaviors>
                                    <EventTriggerBehavior EventName="PointerReleased">
                                        <InvokeCommandAction Command="{Binding SettingsCommand}" />
                                    </EventTriggerBehavior>
                                </Interaction.Behaviors>
                            </Border>

                            <Border Grid.Column="1" Classes="actionButton">
                                <StackPanel
                                    Spacing="15"
                                    HorizontalAlignment="Center">
                                    <Path
                                        Width="{Binding DownloadManager.Width,Mode=OneTime}"
                                        Height="{Binding DownloadManager.Height,Mode=OneTime}"
                                        Data="{Binding DownloadManager.Data,Mode=OneTime}"
                                        Stretch="UniformToFill"
                                        Fill="{DynamicResource BrushIconGradient}">
                                    </Path>
                                    <TextBlock Foreground="{DynamicResource BrushTextDark}"
                                               Text="{DynamicResource DownloadManager}"
                                               FontSize="18"
                                               FontWeight="Medium" />
                                </StackPanel>

                                <Interaction.Behaviors>
                                    <EventTriggerBehavior EventName="PointerReleased">
                                        <InvokeCommandAction Command="{Binding DownloadManagerCommand}" />
                                    </EventTriggerBehavior>
                                </Interaction.Behaviors>
                            </Border>

                            <Border Grid.Column="2" Classes="actionButton">
                                <StackPanel
                                    Spacing="15"

                                    HorizontalAlignment="Center">
                                    <Path
                                        Width="{Binding Toolbox.Width}"
                                        Height="{Binding Toolbox.Height}"
                                        Stretch="UniformToFill"
                                        Fill="{DynamicResource BrushIconGradient}"
                                        Data="{Binding Toolbox.Data}">
                                    </Path>
                                    <TextBlock Foreground="{DynamicResource BrushTextDark}"
                                               Text="{DynamicResource Toolbox}"
                                               FontSize="18"
                                               FontWeight="Medium" />
                                </StackPanel>

                                <Interaction.Behaviors>
                                    <EventTriggerBehavior EventName="PointerReleased">
                                        <InvokeCommandAction Command="{Binding ToolboxCommand}" />
                                    </EventTriggerBehavior>
                                </Interaction.Behaviors>
                            </Border>
                        </Grid>
                    </StackPanel>
                </Border>
            </StackPanel>

        </Panel>
    </Grid>
</UserControl>